(this["webpackJsonpwaves-project"]=this["webpackJsonpwaves-project"]||[]).push([[0],{112:function(e,t,a){e.exports=a(174)},117:function(e,t,a){},174:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),l=a.n(c),i=(a(117),a(20)),s=a(14),o=a(26),u=a(78),m=a(3),d={user:null,userDetails:null},p=a(25),E={products:[],bySell:[],byArrival:[],brands:[],woods:[],selectedProduct:null},v={data:{address:"",phone:"",workingHour:"",email:""}},f=Object(o.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":case"REGISTER":return Object(m.a)(Object(m.a)({},e),{},{user:t.payload});case"SET_USER_DETAILS":return Object(m.a)(Object(m.a)({},e),{},{userDetails:t.payload});case"ADD_TO_CART_USER":return Object(m.a)(Object(m.a)({},e),{},{userDetails:Object(m.a)(Object(m.a)({},e.userDetails),{},{carts:t.payload})});case"REMOVE_FROM_CART_USER":return Object(m.a)(Object(m.a)({},e),{},{userDetails:Object(m.a)(Object(m.a)({},e.userDetails),{},{carts:e.userDetails.carts.filter((function(e){return e.id!==t.payload}))})});case"CLEAR_CART_USER":return Object(m.a)(Object(m.a)({},e),{},{userDetails:Object(m.a)(Object(m.a)({},e.userDetails),{},{carts:t.payload})});default:return e}},product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PRODUCTS_BY_ARRIVAL":return Object(m.a)(Object(m.a)({},e),{},{byArrival:t.payload});case"GET_PRODUCTS_BY_SELL":return Object(m.a)(Object(m.a)({},e),{},{bySell:t.payload});case"GET_BRANDS":return Object(m.a)(Object(m.a)({},e),{},{brands:t.payload});case"GET_WOODS":return Object(m.a)(Object(m.a)({},e),{},{woods:t.payload});case"GET_SHOP":return Object(m.a)(Object(m.a)({},e),{},{products:t.payload});case"ADD_PRODUCT":return Object(m.a)(Object(m.a)({},e),{},{products:[].concat(Object(p.a)(e.products),[t.payload])});case"ADD_BRAND":return Object(m.a)(Object(m.a)({},e),{},{brands:[].concat(Object(p.a)(e.brands),[t.payload])});case"ADD_WOOD":return Object(m.a)(Object(m.a)({},e),{},{woods:[].concat(Object(p.a)(e.woods),[t.payload])});case"SET_SELECTED_PRODUCT":return Object(m.a)(Object(m.a)({},e),{},{selectedProduct:t.payload});default:return e}},site:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SITE_INFO":return Object(m.a)(Object(m.a)({},e),{},{data:t.payload});default:return e}}}),b={},h=[u.a],g=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),O=window.navigator.userAgent.includes("Chrome")&&g?Object(o.e)(f,b,Object(o.d)(o.a.apply(void 0,h),g)):Object(o.e)(f,b,Object(o.d)(o.a.apply(void 0,h))),y=a(9),_=a(4),N=a.n(_),j=a(10),x=a(80),k=a.n(x),w=a(81),S=a.n(w),T=a(47),D=a.n(T),C=function(e){var t=e.type,a=e.title,n=e.linkTo,c=e.addStyles,l=e.altClass;e.action;return r.a.createElement("div",{className:"my_link"},function(){var e="";switch(t){case"default":e=r.a.createElement(i.b,{to:n,style:c,className:l||"link_default"},a);break;case"submit":e=r.a.createElement("button",{style:c,className:"link_default"},a);break;default:e=""}return e}())},A=function(){var e=[{img:k.a,lineOne:"Fender",lineTwo:"Custom shop",linkTitle:"Shop now",linkTo:"/shop"},{img:S.a,lineOne:"B-Stock",lineTwo:"Awesome discounts",linkTitle:"View offers",linkTo:"/shop"}],t={dots:!1,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,arrows:!1};return r.a.createElement("div",{className:"featured_container"},r.a.createElement(D.a,t,e?e.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("div",{className:"featured_image",style:{background:"url(".concat(e.img,")"),height:"100vh",width:"100%"}},r.a.createElement("div",{className:"featured_action"},r.a.createElement("div",{className:"tag title"},e.lineOne),r.a.createElement("div",{className:"tag low_title"},e.lineTwo),r.a.createElement("div",null,r.a.createElement(C,{type:"default",title:e.linkTitle,linkTo:e.linkTo,addStyles:{margin:"10px 0 0 0"}})))))})):null))},R=a(82),P=a.n(R),I=function(){var e={img:P.a,lineOne:"Up to 40% off",lineTwo:"In second hand guitars",linkTitle:"Shop now",linkTo:"/shop"},t={dots:!1,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,arrows:!1};return r.a.createElement("div",{className:"home_promotion"},r.a.createElement(D.a,t,r.a.createElement("div",null,r.a.createElement("div",{className:"home_promotion_img",style:{background:"url(".concat(e.img,")"),width:"100%"}},r.a.createElement("div",{className:"featured_action"},r.a.createElement("div",{className:"tag title"},e.lineOne),r.a.createElement("div",{className:"tag low_title"},e.lineTwo),r.a.createElement("div",null,r.a.createElement(C,{type:"default",title:e.linkTitle,linkTo:e.linkTo,addStyles:{margin:"10px 0 0 0"}})))))))},U=function(e){return function(t){t({type:"GET_BRANDS",payload:e})}},q=function(e){return function(t){t({type:"GET_WOODS",payload:e})}},B=a(7),L=a.n(B),F=a(34),W=a.n(F),G=a(12),M=a(48),H=a.n(M),Y=function(e){return function(t){t({type:"LOGIN",payload:e})}},$=function(e){return function(t){t({type:"SET_USER_DETAILS",payload:e})}},z=function(e){return function(t){t({type:"ADD_TO_CART_USER",payload:e})}},V=Object(y.b)((function(e){return{user:e.auth.user}}),{addToCart:z})((function(e){var t=e.card,a=e.grid,n=e.addToCart,c=e.user,l=function(){var e=Object(j.a)(N.a.mark((function e(){var a,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t._id,e.prev=1,e.next=4,L.a.post("/api/users/add-to-cart?id=".concat(c.id,"&productId=").concat(a));case 4:r=e.sent,n(r.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"card_item_wrapper ".concat(a)},r.a.createElement("div",{className:"image",style:{background:"url(".concat(function(){var e=t.images;return e.length>0?e[0].url:W.a}(),") no-repeat")}}),r.a.createElement("div",{className:"action_container"},r.a.createElement("div",{className:"tags"},r.a.createElement("div",{className:"brand"},t.brand.name),r.a.createElement("div",{className:"name"},t.name),r.a.createElement("div",{className:"price"},"$ ",t.price)),a&&r.a.createElement("div",{className:"description"},t.description),r.a.createElement("div",{className:"actions"},r.a.createElement("div",{className:"button_wrapp"},r.a.createElement(C,{type:"default",altClass:"card_link",title:"View product",linkTo:"/product_detail/".concat(t._id)})),r.a.createElement("div",{className:"button_wrapp"},r.a.createElement("div",{className:"bag_link",onClick:l},r.a.createElement(G.a,{icon:H.a,className:"icon"}))))))})),X=function(e){var t=e.title,a=e.list;return r.a.createElement("div",{className:"card_block"},r.a.createElement("div",{className:"container"},t?r.a.createElement("div",{className:"title"},t):null,r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},a?a.map((function(e,t){return r.a.createElement(V,{key:t,card:e})})):null)))},J=Object(y.b)((function(e){return{product:e.product}}),{getProductByArrival:function(e){return function(t){t({type:"GET_PRODUCTS_BY_SELL",payload:e})}},getProductBySell:function(e){return function(t){t({type:"GET_PRODUCTS_BY_ARRIVAL",payload:e})}}})((function(e){var t=e.getProductByArrival,a=e.getProductBySell,c=e.product;return Object(n.useEffect)((function(){(function(){var e=Object(j.a)(N.a.mark((function e(){var n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get("/api/products/articles?sortBy=sold&order=desc&limit=4");case 3:return n=e.sent,a(n.data.productdata),e.next=7,L.a.get("/api/products/articles?sortBy=createdAt&order=desc&limit=4");case 7:r=e.sent,t(r.data.productdata),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement("div",{className:"page_container"},r.a.createElement(A,null),r.a.createElement(X,{list:c.bySell,title:"Best selling guitars"}),r.a.createElement(X,{list:c.byArrival,title:"New arrivals"}),r.a.createElement(I,null))})),Q=a(19),K=a(6),Z=a(35),ee=a.n(Z),te=function(e){e?L.a.defaults.headers.common["x-auth-token"]=e:delete L.a.defaults.headers.common["x-auth-token"]},ae=a(195),ne=function(){return r.a.createElement("div",{className:"main_loader"},r.a.createElement(ae.a,{style:{color:"#989591"},thickness:7,size:100}))},re=Object(y.b)(null,{register:function(e){return function(t){t({type:"REGISTER",payload:e})}}})((function(e){var t=e.register,a=Object(n.useState)({name:"",lastname:"",email:"",password:"",confirmPassword:""}),c=Object(K.a)(a,2),l=c[0],i=c[1],s=Object(n.useState)(null),o=Object(K.a)(s,2),u=o[0],d=o[1],p=Object(n.useState)(!1),E=Object(K.a)(p,2),v=E[0],f=E[1],b=function(){var e=Object(j.a)(N.a.mark((function e(a){var n,r,c,i,s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),n=l.password,r=l.confirmPassword,n===r){e.next=6;break}d("Confirm password does not match"),e.next=22;break;case 6:return e.prev=6,f(!0),e.next=10,L.a.post("/api/users/register",l);case 10:c=e.sent,i=c.data.userdata,localStorage.setItem("token",i),te(i),s=ee()(i),t(s.user),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(6),console.log(e.t0),d("Register failed");case 22:case"end":return e.stop()}}),e,null,[[6,18]])})));return function(t){return e.apply(this,arguments)}}(),h=function(e){i(Object(m.a)(Object(m.a)({},l),{},Object(Q.a)({},e.target.name,e.target.value))),d(null)};return r.a.createElement("div",{className:"page_wrapper"},v&&r.a.createElement(ne,null),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"register_login_container"},r.a.createElement("div",{className:"left"},r.a.createElement("form",{onSubmit:b},r.a.createElement("h2",null,"Personal information"),r.a.createElement("div",{className:"form_block_two"},r.a.createElement("div",{className:"block"},r.a.createElement("input",{type:"text",name:"name",value:l.name,onChange:h,required:!0,placeholder:"Enter your name"})),r.a.createElement("div",{className:"block"},r.a.createElement("input",{type:"text",name:"lastname",value:l.lastname,onChange:h,required:!0,placeholder:"Enter your lastname"}))),r.a.createElement("div",null,r.a.createElement("input",{type:"email",name:"email",value:l.email,onChange:h,required:!0,placeholder:"Enter your email"})),r.a.createElement("h2",null,"Verify password"),r.a.createElement("div",{className:"form_block_two"},r.a.createElement("div",{className:"block"},r.a.createElement("input",{type:"password",name:"password",value:l.password,onChange:h,required:!0,placeholder:"Enter your password"})),r.a.createElement("div",{className:"block"},r.a.createElement("input",{type:"password",name:"confirmPassword",value:l.confirmPassword,onChange:h,required:!0,placeholder:"Enter your password again"}))),u&&r.a.createElement("div",{className:"error_label"},u),r.a.createElement(C,{type:"submit",title:"register",addStyles:{margin:"10px 0 0 0"}}),r.a.createElement("div",{style:{fontStyle:"italic",marginTop:"10px"}},"**A mail will be sent when create successfully"))))))})),ce=Object(y.b)(null,{login:Y})((function(e){var t=e.login,a=Object(n.useState)({email:"toan@gmail.com",password:"123456"}),c=Object(K.a)(a,2),l=c[0],i=c[1],s=Object(n.useState)(null),o=Object(K.a)(s,2),u=o[0],d=o[1],p=Object(n.useState)(!1),E=Object(K.a)(p,2),v=E[0],f=E[1],b=function(){var e=Object(j.a)(N.a.mark((function e(a){var n,r,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,f(!0),e.next=5,L.a.post("/api/users/login",l);case 5:n=e.sent,r=n.data.userdata,localStorage.setItem("token",r),te(r),c=ee()(r),t(c.user),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0),d("Wrong Credentials");case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),h=function(e){i(Object(m.a)(Object(m.a)({},l),{},Object(Q.a)({},e.target.name,e.target.value))),d(null)};return r.a.createElement("div",{className:"page_wrapper"},v&&r.a.createElement(ne,null),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"register_login_container"},r.a.createElement("div",{className:"left"},r.a.createElement("h1",null,"New Customers"),r.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."),r.a.createElement(C,{type:"default",title:"Create an account",linkTo:"/register",addStyles:{margin:"10px 0 0 0"}})),r.a.createElement("div",{className:"right"},r.a.createElement("h2",null,"Registered Customers"),r.a.createElement("p",null,"If you have an account please login"),r.a.createElement("div",null,r.a.createElement("form",{onSubmit:b},r.a.createElement("input",{type:"email",name:"email",value:l.email,onChange:h,required:!0,placeholder:"Enter your email"}),r.a.createElement("input",{type:"password",name:"password",value:l.password,onChange:h,required:!0,placeholder:"Enter your password"}),u&&r.a.createElement("div",{className:"error_label"},u),r.a.createElement(C,{type:"submit",title:"LOGIN",addStyles:{margin:"10px 0 0 0"}})))))))})),le=a(56),ie=Object(y.b)((function(e){return{user:e.auth.user}}),null)((function(e){var t=e.component,a=e.user,n=e.restricted,c=Object(le.a)(e,["component","user","restricted"]);return r.a.createElement(s.b,Object.assign({},c,{component:function(e){return n&&a?r.a.createElement(s.a,{to:"/"}):r.a.createElement(t,e)}}))})),se=Object(y.b)((function(e){return{user:e.auth.user}}),null)((function(e){var t=e.component,a=e.user,n=e.needAdminRole,c=Object(le.a)(e,["component","user","needAdminRole"]);return r.a.createElement(s.b,Object.assign({},c,{component:function(e){return a?n?1===a.role?r.a.createElement(t,e):r.a.createElement(s.a,{to:"/user/dashboard"}):r.a.createElement(t,e):r.a.createElement(s.a,{to:"/login"})}}))})),oe=Object(y.b)((function(e){return{user:e.auth.user,userDetails:e.auth.userDetails}}),{setUserDetails:$,login:Y})((function(e){var t=e.setUserDetails,a=e.userDetails,c=e.user,l=e.login;Object(n.useEffect)((function(){(function(){var e=Object(j.a)(N.a.mark((function e(){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=11;break}return e.prev=1,e.next=4,L.a.get("/api/users/auth");case 4:a=e.sent,t(a.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}})()()}),[c]);var s=function(){localStorage.removeItem("token"),te(!1),l(null),t(null)};return r.a.createElement("header",{className:"bck_b_light"},r.a.createElement("div",{className:"container",style:{height:"100%"}},r.a.createElement("div",{className:"left"},r.a.createElement("div",{className:"logo",style:{cursor:"pointer"}},r.a.createElement(i.b,{to:"/",style:{marginLeft:"0px"}},"Waves"))),r.a.createElement("div",{className:"right"},r.a.createElement("div",{className:"top"},c?r.a.createElement(r.a.Fragment,null,r.a.createElement(i.b,{to:"/user/cart",className:"cart_link"},"My Cart ",r.a.createElement("span",null,function(){var e=0;return a&&a.carts.forEach((function(t){t.quantity?e+=t.quantity:e++})),e}())),r.a.createElement(i.b,{to:"/user/dashboard"},"My Account"),r.a.createElement("span",{onClick:s,className:"log_out_link"},"Logout")):r.a.createElement(i.b,{to:"/login"},"Login")),r.a.createElement("div",{className:"bottom"},r.a.createElement(i.b,{to:"/"},"Home"),r.a.createElement(i.b,{to:"/shop"},"Guitars")))))})),ue=a(83),me=a.n(ue),de=a(84),pe=a.n(de),Ee=a(85),ve=a.n(Ee),fe=a(86),be=a.n(fe),he=function(e){return function(t){t({type:"SET_SITE_INFO",payload:e})}},ge=Object(y.b)((function(e){return{siteInfo:e.site.data}}),{setSiteInfo:he})((function(e){var t=e.setSiteInfo,a=e.siteInfo;return Object(n.useEffect)((function(){(function(){var e=Object(j.a)(N.a.mark((function e(){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get("/api/sites/site-data");case 3:a=e.sent,t(a.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement("footer",{className:"bck_b_dark",style:{paddingBottom:"20px"}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"logo"},"Waves"),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"left"},r.a.createElement("h2",null,"Contact Information"),r.a.createElement("div",{className:"business_nfo"},r.a.createElement("div",{className:"tag"},r.a.createElement(G.a,{icon:me.a,className:"icon"}),r.a.createElement("div",{className:"nfo"},r.a.createElement("div",null,"Address"),r.a.createElement("div",null,a.address))),r.a.createElement("div",{className:"tag"},r.a.createElement(G.a,{icon:pe.a,className:"icon"}),r.a.createElement("div",{className:"nfo"},r.a.createElement("div",null,"Phone"),r.a.createElement("div",null,a.phone))),r.a.createElement("div",{className:"tag"},r.a.createElement(G.a,{icon:ve.a,className:"icon"}),r.a.createElement("div",{className:"nfo"},r.a.createElement("div",null,"Working Hour"),r.a.createElement("div",null,a.workingHour))),r.a.createElement("div",{className:"tag"},r.a.createElement(G.a,{icon:be.a,className:"icon"}),r.a.createElement("div",{className:"nfo"},r.a.createElement("div",null,"Email"),r.a.createElement("div",null,a.email))))),r.a.createElement("div",{className:"right"},r.a.createElement("h2",null,"Be the first to know"),"Get all the lastest information on events, sales and offers. You can miss out"))))})),Oe=[{name:"My Account",linkTo:"/user/dashboard"},{name:"User Information",linkTo:"/user/user_profile"},{name:"My Cart",linkTo:"/user/cart"}],ye=[{name:"Site Info",linkTo:"/admin/site_info"},{name:"Add Products",linkTo:"/admin/add_product"},{name:"Manage Categories",linkTo:"/admin/manage_categories"}],_e=Object(y.b)((function(e){return{user:e.auth.user}}),null)((function(e){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"user_container"},r.a.createElement("div",{className:"user_left_nav"},r.a.createElement("h2",null,"My Account"),r.a.createElement("div",{className:"links"},Oe.map((function(e,t){return r.a.createElement(i.b,{to:e.linkTo,key:t},e.name)}))),e.user.role?r.a.createElement("div",null,r.a.createElement("h2",null,"Admin"),r.a.createElement("div",{className:"links"},ye.map((function(e,t){return r.a.createElement(i.b,{to:e.linkTo,key:t},e.name)})))):null),r.a.createElement("div",{className:"user_right"},e.children)))})),Ne=a(87),je=a.n(Ne),xe=function(e){var t=e.products;return r.a.createElement("div",{className:"history"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Date of purchase"),r.a.createElement("th",null,"Product"),r.a.createElement("th",null,"Price paid"),r.a.createElement("th",null,"Quantity"))),r.a.createElement("tbody",null,t.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,je()(e.dateOfPurchase).format("MM-DD-YYYY")),r.a.createElement("td",null,e.name),r.a.createElement("td",null,"$ ",e.price),r.a.createElement("td",null,e.quantity))})))))},ke=Object(y.b)((function(e){return{userDetails:e.auth.userDetails}}),null)((function(e){var t=e.userDetails;return r.a.createElement("div",null,r.a.createElement(_e,null,t?r.a.createElement("div",null,r.a.createElement("div",{className:"user_nfo_panel"},r.a.createElement("h2",null,"User Information"),r.a.createElement("div",null,r.a.createElement("span",null,t.name),r.a.createElement("span",null,t.lastname),r.a.createElement("span",null,t.email)),r.a.createElement(C,{type:"default",title:"Edit account info",addStyles:{margin:"10px 0 0 0"},linkTo:"/user/user_profile"})),r.a.createElement("div",{className:"user_nfo_panel history-wrapper"},r.a.createElement("h2",null,"History purchases"),r.a.createElement("div",{className:"user_product_block"},r.a.createElement(xe,{products:t.histories}))),r.a.createElement("div",{className:"history-hidden-massage"},"**Please switch to wider screen to see history purchases")):r.a.createElement(ne,null)))})),we=function(e){var t=e.title;return r.a.createElement("div",{className:"page_top"},r.a.createElement("div",{className:"container"},t))},Se=a(199),Te=a(206),De=a(198),Ce=a(197),Ae=a(204),Re=a(203),Pe=a(51),Ie=a.n(Pe),Ue=a(52),qe=a.n(Ue),Be=function(e){var t=e.initialState,a=e.title,c=e.list,l=e.handleFilters,i=Object(n.useState)(!1),s=Object(K.a)(i,2),o=s[0],u=s[1],m=Object(n.useState)([]),d=Object(K.a)(m,2),E=d[0],v=d[1];Object(n.useEffect)((function(){t&&u(t)}),[]);return r.a.createElement("div",null,r.a.createElement(Se.a,{style:{borderBottom:"1px solid #bdbdbd"}},r.a.createElement(Te.a,{onClick:function(){u(!o)},style:{padding:"10px 23px 10px 0"}},r.a.createElement(Ce.a,{primary:a,className:"collapse_title"}),o?r.a.createElement(G.a,{icon:qe.a,className:"icon"}):r.a.createElement(G.a,{icon:Ie.a,className:"icon"})),r.a.createElement(Re.a,{in:o,timeout:"auto",unmountOnExit:!0},r.a.createElement(Se.a,{component:"div",disablePadding:!0},c?c.map((function(e,t){return r.a.createElement(Te.a,{key:t},r.a.createElement(Ce.a,{primary:e.name}),r.a.createElement(De.a,null,r.a.createElement(Ae.a,{color:"primary",onChange:function(){return function(e){var t=E.indexOf(e),a=Object(p.a)(E);-1===t?a.push(e):a.splice(t,1),v(a),l(a)}(e._id)},checked:-1!==E.indexOf(e._id)})))})):null))))},Le=[{_id:20,name:20},{_id:21,name:21},{_id:22,name:22},{_id:23,name:23}],Fe=[{_id:0,name:"Any",array:[]},{_id:1,name:"$0 to $299",array:[0,299]},{_id:2,name:"$300 to $599",array:[300,599]},{_id:3,name:"$600 to $1599",array:[600,1599]},{_id:4,name:"More than $1600",array:[1600,1e6]}],We=a(202),Ge=a(205),Me=a(200),He=function(e){var t=e.initialState,a=e.title,c=e.list,l=e.handleFilters,i=Object(n.useState)(!1),s=Object(K.a)(i,2),o=s[0],u=s[1],m=Object(n.useState)("0"),d=Object(K.a)(m,2),p=d[0],E=d[1];Object(n.useEffect)((function(){t&&u(t)}),[]);return r.a.createElement("div",null,r.a.createElement(Se.a,{style:{borderBottom:"1px solid #bdbdbd"}},r.a.createElement(Te.a,{onClick:function(){u(!o)},style:{padding:"10px 23px 10px 0"}},r.a.createElement(Ce.a,{primary:a,className:"collapse_title"}),o?r.a.createElement(G.a,{icon:qe.a,className:"icon"}):r.a.createElement(G.a,{icon:Ie.a,className:"icon"})),r.a.createElement(Re.a,{in:o,timeout:"auto",unmountOnExit:!0},r.a.createElement(Se.a,{component:"div",disablePadding:!0},r.a.createElement(Ge.a,{"aria-label":"prices",name:"prices",value:p,onChange:function(e){E(e.target.value),l(e.target.value)}},c?c.map((function(e,t){return r.a.createElement(Me.a,{key:t,value:"".concat(e._id),control:r.a.createElement(We.a,null),label:e.name})})):null)))))},Ye=function(e){var t=e.grid,a=e.list;return r.a.createElement("div",{className:"card_block_shop"},r.a.createElement("div",null,r.a.createElement("div",null,a?0===a.length?r.a.createElement("div",{className:"no_result"},"Sorry, no results"):a&&a.map((function(e,a){return r.a.createElement(V,{key:a,card:e,grid:t})})):null)))},$e=function(e){var t=e.grid,a=e.limit,n=e.size,c=e.products,l=e.loadMore;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(Ye,{grid:t,list:c})),n<a?null:r.a.createElement("div",{className:"load_more_container"},r.a.createElement("span",{onClick:l},"Load more")))},ze=a(88),Ve=a.n(ze),Xe=a(89),Je=a.n(Xe),Qe=Object(y.b)((function(e){return{product:e.product}}),{getBrands:U,getWoods:q,getShop:function(e){return function(t){t({type:"GET_SHOP",payload:e})}}})((function(e){var t=e.getBrands,a=e.getWoods,c=e.getShop,l=e.product,i=Object(n.useState)({grid:"",size:0,limit:4,skip:0,filters:{brand:[],frets:[],wood:[],price:[]}}),s=Object(K.a)(i,2),o=s[0],u=s[1],d=Object(n.useState)(!0),E=Object(K.a)(d,2),v=E[0],f=E[1];Object(n.useEffect)((function(){(function(){var e=Object(j.a)(N.a.mark((function e(){var n,r,l;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,L.a.get("/api/products/brands");case 4:return n=e.sent,t(n.data.branddata),e.next=8,L.a.get("/api/products/woods");case 8:return r=e.sent,a(r.data.wooddata),e.next=12,L.a.post("/api/products/shop",{limit:o.limit,skip:o.skip,filters:o.filters});case 12:l=e.sent,u(Object(m.a)(Object(m.a)({},o),{},{size:l.data.productdata.length})),c(l.data.productdata),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.log(e.t0);case 20:f(!1);case 21:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var b=function(e){return Fe.filter((function(t){return t._id===parseInt(e)}))[0].array},h=function(){var e=Object(j.a)(N.a.mark((function e(t,a){var n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Object(m.a)({},o.filters))[a]=t,"price"===a&&(n[a]=b(t)),u(Object(m.a)(Object(m.a)({},o),{},{filters:n})),e.next=6,L.a.post("/api/products/shop",{limit:o.limit,skip:0,filters:n});case 6:r=e.sent,c(r.data.productdata),u(Object(m.a)(Object(m.a)({},o),{},{size:r.data.productdata.length}));case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),g=function(){var e=Object(j.a)(N.a.mark((function e(){var t,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=o.skip+o.limit,u(Object(m.a)(Object(m.a)({},o),{},{skip:t})),e.next=5,L.a.post("/api/products/shop",{limit:o.limit,skip:t,filters:o.filters});case 5:a=e.sent,c([].concat(Object(p.a)(l.products),Object(p.a)(a.data.productdata))),u(Object(m.a)(Object(m.a)({},o),{},{size:a.data.productdata.length})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),O=function(){u(Object(m.a)(Object(m.a)({},o),{},{grid:o.grid?"":"grid_bars"}))};return r.a.createElement("div",null,r.a.createElement(we,{title:"Browse Products"}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"shop_wrapper"},r.a.createElement("div",{className:"left"},r.a.createElement(Be,{initialState:!0,title:"Brands",list:l.brands,handleFilters:function(e){return h(e,"brand")}}),r.a.createElement(Be,{initialState:!1,title:"Frets",list:Le,handleFilters:function(e){return h(e,"fret")}}),r.a.createElement(Be,{initialState:!1,title:"Woods",list:l.woods,handleFilters:function(e){return h(e,"wood")}}),r.a.createElement(He,{initialState:!0,title:"Woods",list:Fe,handleFilters:function(e){return h(e,"price")}})),r.a.createElement("div",{className:"right"},v?r.a.createElement(ne,null):r.a.createElement("div",null,r.a.createElement("div",{className:"shop_options"},r.a.createElement("div",{className:"grid_bars clear"},r.a.createElement("div",{className:"grid_btn ".concat(o.grid?"":"active"),onClick:O},r.a.createElement(G.a,{icon:Je.a})),r.a.createElement("div",{className:"grid_btn ".concat(o.grid?"active":""),onClick:O},r.a.createElement(G.a,{icon:Ve.a})))),r.a.createElement("div",null,r.a.createElement($e,{grid:o.grid,size:o.size,limit:o.limit,products:l.products,loadMore:g})))))))})),Ke=a(100),Ze=a(91),et=a.n(Ze),tt=function(e){var t=e.imageUploadHandler,a=Object(n.useState)([]),c=Object(K.a)(a,2),l=c[0],i=c[1],s=Object(n.useState)(!1),o=Object(K.a)(s,2),u=o[0],m=o[1],d=function(){var e=Object(j.a)(N.a.mark((function e(a){var n,r,c,s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,n=new FormData,r={header:{"content-type":"multipart/form-data"}},n.append("file",a[0]),e.next=7,L.a.post("/api/users/uploadimage",n,r);case 7:c=e.sent,s=[].concat(Object(p.a)(l),[c.data]),i(s),t(s),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:m(!1);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(j.a)(N.a.mark((function e(a){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.delete("/api/users/removeimage?public_id=".concat(a));case 3:n=l.filter((function(e){return e.public_id!==a})),i(n),t(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("section",null,r.a.createElement("div",{className:"dropzone clear"},r.a.createElement(Ke.a,{onDrop:d,multiple:!1},(function(e){var t=e.getRootProps,a=e.getInputProps;return r.a.createElement("section",{className:"dropzone_box"},r.a.createElement("div",Object.assign({},t(),{style:{height:"100%"}}),r.a.createElement("input",a()),r.a.createElement("div",{className:"wrap"},r.a.createElement(G.a,{icon:et.a}))))})),l.map((function(e){return r.a.createElement("div",{className:"dropzone_box",key:e.public_id,onClick:function(){return E(e.public_id)}},r.a.createElement("div",{className:"wrap",style:{background:"url(".concat(e.url,") no-repeat")}}))})),u?r.a.createElement("div",{className:"dropzone_box",style:{textAlign:"center",paddingTop:"60px"}},r.a.createElement(ae.a,{style:{color:"#00bcd4"},thickness:7})):null,r.a.createElement("span",{style:{display:"block",clear:"both",paddingLeft:"10px",fontStyle:"italic"}},"**Click to image to remove uploaded one"))))},at=Object(y.b)((function(e){return{product:e.product}}),{getBrands:U,getWoods:q,addProduct:function(e){return function(t){t({type:"ADD_PRODUCT",payload:e})}}})((function(e){var t=e.getBrands,a=e.getWoods,c=e.addProduct,l=e.product,i=Object(n.useState)({name:"",description:"",price:0,brand:"",shipping:!1,available:!1,wood:"",frets:0,sold:0,publish:!1,images:[]}),s=Object(K.a)(i,2),o=s[0],u=s[1],d=Object(n.useState)(null),p=Object(K.a)(d,2),E=p[0],v=p[1],f=Object(n.useState)(null),b=Object(K.a)(f,2),h=b[0],g=b[1];Object(n.useEffect)((function(){(function(){var e=Object(j.a)(N.a.mark((function e(){var n,r,c,i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.brands,r=l.woods,e.prev=1,0!==n.length){e.next=7;break}return e.next=5,L.a.get("/api/products/brands");case 5:c=e.sent,t(c.data.branddata);case 7:if(0!==r.length){e.next=12;break}return e.next=10,L.a.get("/api/products/woods");case 10:i=e.sent,a(i.data.wooddata);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var O=function(){var e=Object(j.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(o),v(""),e.prev=3,e.next=6,L.a.post("/api/products/article",o);case 6:c(o),g("Add product successfully"),u({name:"",description:"",price:0,brand:"",shipping:!1,available:!1,wood:"",frets:0,sold:0,publish:!1,images:[]}),setTimeout((function(){g("")}),3e3),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),v("Add product failed");case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),y=function(e){u(Object(m.a)(Object(m.a)({},o),{},Object(Q.a)({},e.target.name,e.target.value))),v("")},_=o.name,x=o.description,k=o.price,w=o.brand,S=o.wood,T=o.shipping,D=o.available,A=o.frets,R=o.publish;return r.a.createElement(_e,null,r.a.createElement("div",{style:{overflow:"hidden"}},r.a.createElement("h1",null,"Add Product"),r.a.createElement("form",{onSubmit:O},r.a.createElement(tt,{imageUploadHandler:function(e){var t=Object(m.a)({},o);t.images=e,u(t)}}),r.a.createElement("input",{className:"input",type:"text",name:"name",value:_,onChange:y,required:!0,placeholder:"Enter product name"}),r.a.createElement("textarea",{className:"input",name:"description",value:x,onChange:y,required:!0,placeholder:"Enter product description"}),r.a.createElement("input",{className:"input",type:"number",name:"price",value:k,onChange:y,required:!0,placeholder:"Enter product price"}),r.a.createElement("div",{className:"form_devider"}),r.a.createElement("label",{className:"label_inputs",htmlFor:"brand"},"Select brand"),r.a.createElement("select",{className:"input",name:"brand",value:w,onChange:y,required:!0},r.a.createElement("option",{value:""},"Select"),l.brands.map((function(e,t){return r.a.createElement("option",{key:t,value:e._id},e.name)}))),r.a.createElement("label",{className:"label_inputs",htmlFor:"shipping"},"Is shipping?"),r.a.createElement("select",{className:"input",name:"shipping",value:T,onChange:y,required:!0},r.a.createElement("option",{value:!0},"Yes"),r.a.createElement("option",{value:!1},"No")),r.a.createElement("label",{className:"label_inputs",htmlFor:"available"},"Available in stock?"),r.a.createElement("select",{className:"input",name:"available",value:D,onChange:y,required:!0},r.a.createElement("option",{value:!0},"Yes"),r.a.createElement("option",{value:!1},"No")),r.a.createElement("div",{className:"form_devider"}),r.a.createElement("label",{className:"label_inputs",htmlFor:"wood"},"Select wood"),r.a.createElement("select",{className:"input",name:"wood",value:S,onChange:y,required:!0},r.a.createElement("option",{value:""},"Select"),l.woods.map((function(e,t){return r.a.createElement("option",{key:t,value:e._id},e.name)}))),r.a.createElement("label",{className:"label_inputs",htmlFor:"frets"},"Select frets"),r.a.createElement("select",{className:"input",name:"frets",value:A,onChange:y,required:!0},r.a.createElement("option",{value:20},"20"),r.a.createElement("option",{value:21},"21"),r.a.createElement("option",{value:22},"22"),r.a.createElement("option",{value:23},"23")),r.a.createElement("label",{className:"label_inputs",htmlFor:"frets"},"Publish"),r.a.createElement("select",{className:"input",name:"publish",value:R,onChange:y,required:!0},r.a.createElement("option",{value:!0},"Public"),r.a.createElement("option",{value:!1},"Hidden")),E&&r.a.createElement("div",{className:"error_label"},E),h&&r.a.createElement("div",{className:"form_success"},h),r.a.createElement(C,{type:"submit",title:"ADD PRODUCT",addStyles:{margin:"10px 0 0 0"}}))))})),nt=Object(y.b)(null,{addBrand:function(e){return function(t){t({type:"ADD_BRAND",payload:e})}}})((function(e){var t=e.brands,a=e.addBrand,c=Object(n.useState)({name:""}),l=Object(K.a)(c,2),i=l[0],s=l[1],o=Object(n.useState)(null),u=Object(K.a)(o,2),d=u[0],p=u[1],E=Object(n.useState)(null),v=Object(K.a)(E,2),f=v[0],b=v[1],h=function(){var e=Object(j.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),p(""),e.prev=2,e.next=5,L.a.post("/api/products/brand",i);case 5:a(i),s({name:""}),b("Add brand successfully"),setTimeout((function(){b("")}),3e3),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),p("Add brand failed");case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}(),g=i.name;return r.a.createElement("div",{className:"admin_category_wrapper"},r.a.createElement("h1",null,"Brands"),r.a.createElement("div",{className:"admin_two_column"},r.a.createElement("div",{className:"left"},r.a.createElement("div",{className:"brands_container"},t.map((function(e,t){return r.a.createElement("div",{className:"category_item",key:t},e.name)})))),r.a.createElement("div",{className:"right"},r.a.createElement("h2",null,"Add Brand"),r.a.createElement("form",{onSubmit:h},r.a.createElement("input",{className:"input",type:"text",name:"name",value:g,onChange:function(e){s(Object(m.a)(Object(m.a)({},i),{},Object(Q.a)({},e.target.name,e.target.value))),p("")},required:!0,placeholder:"Enter brand name"}),d&&r.a.createElement("div",{className:"error_label"},d),f&&r.a.createElement("div",{className:"form_success"},f),r.a.createElement(C,{type:"submit",title:"ADD BRAND",addStyles:{margin:"10px 0 0 0"}})))))})),rt=Object(y.b)(null,{addWood:function(e){return function(t){t({type:"ADD_WOOD",payload:e})}}})((function(e){var t=e.woods,a=e.addWood,c=Object(n.useState)({name:""}),l=Object(K.a)(c,2),i=l[0],s=l[1],o=Object(n.useState)(null),u=Object(K.a)(o,2),d=u[0],p=u[1],E=Object(n.useState)(null),v=Object(K.a)(E,2),f=v[0],b=v[1],h=function(){var e=Object(j.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),p(""),e.prev=2,e.next=5,L.a.post("/api/products/wood",i);case 5:a(i),s({name:""}),b("Add wood successfully"),setTimeout((function(){b("")}),3e3),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),p("Add wood failed");case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}(),g=i.name;return r.a.createElement("div",{className:"admin_category_wrapper"},r.a.createElement("h1",null,"Brands"),r.a.createElement("div",{className:"admin_two_column"},r.a.createElement("div",{className:"left"},r.a.createElement("div",{className:"brands_container"},t.map((function(e,t){return r.a.createElement("div",{className:"category_item",key:t},e.name)})))),r.a.createElement("div",{className:"right"},r.a.createElement("h2",null,"Add Wood"),r.a.createElement("form",{onSubmit:h},r.a.createElement("input",{className:"input",type:"text",name:"name",value:g,onChange:function(e){s(Object(m.a)(Object(m.a)({},i),{},Object(Q.a)({},e.target.name,e.target.value))),p("")},required:!0,placeholder:"Enter wood name"}),d&&r.a.createElement("div",{className:"error_label"},d),f&&r.a.createElement("div",{className:"form_success"},f),r.a.createElement(C,{type:"submit",title:"ADD WOOD",addStyles:{margin:"10px 0 0 0"}})))))})),ct=Object(y.b)((function(e){return{product:e.product}}),{getBrands:U,getWoods:q})((function(e){var t=e.getBrands,a=e.getWoods,c=e.product;return Object(n.useEffect)((function(){(function(){var e=Object(j.a)(N.a.mark((function e(){var n,r,l,i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.brands,r=c.woods,e.prev=1,0!==n.length){e.next=7;break}return e.next=5,L.a.get("/api/products/brands");case 5:l=e.sent,t(l.data.branddata);case 7:if(0!==r.length){e.next=12;break}return e.next=10,L.a.get("/api/products/woods");case 10:i=e.sent,a(i.data.wooddata);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement(_e,null,r.a.createElement(nt,{brands:c.brands}),r.a.createElement("div",{className:"form_devider"}),r.a.createElement(rt,{woods:c.woods}))})),lt=a(92),it=a.n(lt),st=a(93),ot=a.n(st),ut=a(94),mt=a.n(ut),dt=function(e){var t=e.product,a=e.addToCart,n=t._id,c=t.name,l=t.brand,i=t.description,s=t.shipping,o=t.available,u=t.price,m=t.frets,d=t.wood;return r.a.createElement("div",null,r.a.createElement("h1",null,l.name," ",c),r.a.createElement("p",null,i),r.a.createElement("div",{className:"product_tags"},s?r.a.createElement("div",{className:"tag"},r.a.createElement("div",null,r.a.createElement(G.a,{icon:it.a})),r.a.createElement("div",{className:"tag_text"},r.a.createElement("div",null,"Free shipping"),r.a.createElement("div",null,"And return"))):null,o?r.a.createElement("div",{className:"tag"},r.a.createElement("div",null,r.a.createElement(G.a,{icon:ot.a})),r.a.createElement("div",{className:"tag_text"},r.a.createElement("div",null,"Available"),r.a.createElement("div",null,"In store"))):r.a.createElement("div",{className:"tag"},r.a.createElement("div",null,r.a.createElement(G.a,{icon:mt.a})),r.a.createElement("div",{className:"tag_text"},r.a.createElement("div",null,"Not available"),r.a.createElement("div",null,"Pre-oder only")))),r.a.createElement("div",{className:"product_actions"},r.a.createElement("div",{className:"price"},"$ ",u),r.a.createElement("div",{className:"cart"},r.a.createElement("div",{className:"add_to_cart_link",onClick:function(){return a(n)}},r.a.createElement(G.a,{icon:H.a}),"Add to cart"))),r.a.createElement("div",{className:"product_specifications"},r.a.createElement("h2",null,"Specifications: "),r.a.createElement("div",null,r.a.createElement("div",{className:"item"},r.a.createElement("strong",null,"Frets: "),m),r.a.createElement("div",{className:"item"},r.a.createElement("strong",null,"Wood: "),d.name))))},pt=a(95),Et=(a(169),function(e){var t=e.closeLightbox,a=e.imageIndex,n=e.isOpenLightbox,c=e.images,l=e.changeImage;return r.a.createElement("div",null,n&&r.a.createElement(pt.a,{mainSrc:c[a].url,nextSrc:c[(a+1)%c.length].url,prevSrc:c[(a+c.length-1)%c.length].url,onCloseRequest:t,onMovePrevRequest:function(){return l((a+c.length-1)%c.length)},onMoveNextRequest:function(){return l((a+1)%c.length)}}))}),vt=function(e){var t=e.images,a=Object(n.useState)(0),c=Object(K.a)(a,2),l=c[0],i=c[1],s=Object(n.useState)(!1),o=Object(K.a)(s,2),u=o[0],m=o[1],d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;i(e),m(!0)};return r.a.createElement("div",{className:"product_image_container"},r.a.createElement("div",{className:"main_pic"},r.a.createElement("div",{onClick:function(){return d()},style:{background:"url(".concat(t.length>=0?t[0].url:W.a,") no-repeat")}})),r.a.createElement("div",{className:"main_thumbs clear"},t.map((function(e,t){return t>0&&r.a.createElement("div",{key:t,onClick:function(){return d(t)},className:"thumb",style:{background:"url(".concat(e.url,") no-repeat")}})}))),u?r.a.createElement(Et,{closeLightbox:function(){m(!1)},imageIndex:l,isOpenLightbox:u,images:t,changeImage:function(e){i(e)}}):null)},ft=Object(y.b)((function(e){return{selectedProduct:e.product.selectedProduct,user:e.auth.user}}),{setSelectedProduct:function(e){return function(t){t({type:"SET_SELECTED_PRODUCT",payload:e})}},addToCart:z})((function(e){var t=e.history,a=e.match,c=e.setSelectedProduct,l=e.selectedProduct,i=e.addToCart,s=e.user;Object(n.useEffect)((function(){return function(){var e=Object(j.a)(N.a.mark((function e(){var n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=a.params.id,e.next=4,L.a.get("/api/products/article?type=single&id=".concat(n));case 4:r=e.sent,c(r.data.productdata),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t.push("/");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()(),function(){c(null)}}),[]);var o=function(){var e=Object(j.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.post("/api/users/add-to-cart?id=".concat(s.id,"&productId=").concat(t));case 3:a=e.sent,i(a.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"page_container"},r.a.createElement(we,{title:"Product detail"}),r.a.createElement("div",{className:"container"},l?r.a.createElement("div",{className:"product_detail_wrapper"},r.a.createElement("div",{className:"left"},r.a.createElement(vt,{images:l.images})),r.a.createElement("div",{className:"right"},r.a.createElement(dt,{addToCart:o,product:l}))):r.a.createElement(ne,null)))})),bt=a(97),ht=a.n(bt),gt=a(98),Ot=a.n(gt);function yt(e){var t=e.products,a=(e.type,e.removeItem),n=function(e){return e.images.length>0?e.images[0].url:W.a};return r.a.createElement("div",null,t.map((function(e,t){return r.a.createElement("div",{className:"user_product_block",key:t},r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"image",style:{background:"url(".concat(n(e),") no-repeat")}})),r.a.createElement("div",{className:"item"},r.a.createElement("h4",null,"Product name"),r.a.createElement("div",{className:"text"},e.brand.name," ",e.name)),r.a.createElement("div",{className:"item"},r.a.createElement("h4",null,"Quantity"),r.a.createElement("div",{className:"text"},e.quantity)),r.a.createElement("div",{className:"item"},r.a.createElement("h4",null,"Price"),r.a.createElement("div",{className:"text"},"$",e.price)),r.a.createElement("div",{className:"item btn"},r.a.createElement("div",{className:"cart_remove_btn",onClick:function(){return a(e._id)}},"Remove")))})))}var _t=a(99),Nt=a.n(_t),jt=function(e){var t=e.toPay,a=e.transactionError,n=e.transactionCanceled,c=e.onSuccess;return r.a.createElement("div",null,r.a.createElement(Nt.a,{client:{sandbox:"YOUR-SANDBOX-APP-ID",production:"YOUR-PRODUCTION-APP-ID"},currency:"USD",total:t,onError:a,onSuccess:c,onCancel:n,style:{color:"blue",shape:"rect",label:"checkout"}}))},xt=Object(y.b)((function(e){return{user:e.auth.user,userDetails:e.auth.userDetails}}),{removeFromCart:function(e){return function(t){t({type:"REMOVE_FROM_CART_USER",payload:e})}},clearCart:function(){return function(e){e({type:"CLEAR_CART_USER",payload:[]})}}})((function(e){var t=e.userDetails,a=e.removeFromCart,c=e.clearCart,l=Object(n.useState)([]),i=Object(K.a)(l,2),s=i[0],o=i[1],u=Object(n.useState)(!0),d=Object(K.a)(u,2),p=d[0],E=d[1],v=Object(n.useState)(!1),f=Object(K.a)(v,2),b=f[0],h=f[1],g=Object(n.useState)(0),O=Object(K.a)(g,2),y=O[0],_=O[1],x=Object(n.useState)(!1),k=Object(K.a)(x,2),w=k[0],S=k[1];Object(n.useEffect)((function(){(function(){var e=Object(j.a)(N.a.mark((function e(){var a,n,r,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==s.length){e.next=26;break}if(E(!0),a=[],t&&t.carts&&t.carts.length>0&&t.carts.forEach((function(e){a.push(e.id)})),!(a.length>0)){e.next=21;break}return e.prev=5,e.next=8,L.a.get("/api/products/article?type=array&id=".concat(a));case 8:n=e.sent,r=n.data.productdata,c=[],r.forEach((function(e){t.carts.forEach((function(t){t.id===e._id&&c.push(Object(m.a)(Object(m.a)({},e),{},{quantity:t.quantity}))}))})),o(c),T(c),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),console.log(e.t0);case 19:e.next=23;break;case 21:o([]),T([]);case 23:E(!1),e.next=27;break;case 26:T(s);case 27:case"end":return e.stop()}}),e,null,[[5,16]])})));return function(){return e.apply(this,arguments)}})()()}),[t]);var T=function(e){if(0!==e.length){var t=0;e.forEach((function(e){t+=parseInt(e.price)*parseInt(e.quantity)})),_(t),h(!0)}else h(!1)},D=function(){var e=Object(j.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.delete("/api/users/remove-from-cart?_id=".concat(t));case 3:o(s.filter((function(e){return e._id!==t}))),a(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(j.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.post("/api/products/api/users/success-buy",{cartDetails:s,paymentData:t});case 3:c(),o([]),T([]),S(!0),console.log(t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(_e,null,p?r.a.createElement(ne,null):r.a.createElement("div",null,r.a.createElement("h1",null,"My Cart"),r.a.createElement("div",null,r.a.createElement(yt,{products:s,type:"cart",removeItem:D}),b?r.a.createElement("div",null,r.a.createElement("div",{className:"user_cart_sum"},r.a.createElement("div",null,"Total amount: $ ",y)),r.a.createElement("div",{className:"paypal_button_container"},r.a.createElement(jt,{toPay:y,transactionError:function(e){console.log(e)},transactionCanceled:function(e){console.log(e)},onSuccess:C}))):w?r.a.createElement("div",{className:"cart_success"},r.a.createElement(G.a,{icon:Ot.a}),r.a.createElement("div",null,"THANK YOU"),r.a.createElement("div",null,"YOUR ORDER IS NOW COMPLETE")):r.a.createElement("div",{className:"cart_no_items"},r.a.createElement(G.a,{icon:ht.a}),r.a.createElement("div",null,"You have no items")))))})),kt=Object(y.b)((function(e){return{userDetails:e.auth.userDetails}}),{setUserDetails:$})((function(e){var t=e.userDetails,a=e.setUserDetails,c=Object(n.useState)({email:"",name:"",lastname:""}),l=Object(K.a)(c,2),i=l[0],s=l[1],o=Object(n.useState)(null),u=Object(K.a)(o,2),d=u[0],p=u[1],E=Object(n.useState)(null),v=Object(K.a)(E,2),f=v[0],b=v[1];Object(n.useEffect)((function(){t&&s(Object(m.a)(Object(m.a)({},i),{},{email:t.email,name:t.name,lastname:t.lastname}))}),[t]);var h=function(e){s(Object(m.a)(Object(m.a)({},i),{},Object(Q.a)({},e.target.name,e.target.value))),p(null)},g=function(){var e=Object(j.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,L.a.post("/api/users/update-profile",i);case 4:n=e.sent,a(n.data),b("Update successfully"),p(null),setTimeout((function(){b(null)}),3e3),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),p("Update failed");case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(_e,null,t?r.a.createElement("div",{style:{paddingRight:"10px"}},r.a.createElement("h1",null,"User Profile"),r.a.createElement("form",{onSubmit:g},r.a.createElement("input",{type:"text",name:"name",value:i.name,onChange:h,required:!0,placeholder:"Enter your name"}),r.a.createElement("input",{type:"text",name:"lastname",value:i.lastname,onChange:h,required:!0,placeholder:"Enter your lastname"}),r.a.createElement("input",{type:"email",name:"email",value:i.email,onChange:h,required:!0,placeholder:"Enter your email"}),d&&r.a.createElement("div",{className:"error_label"},d),f&&r.a.createElement("div",{className:"form_success"},f),r.a.createElement(C,{type:"submit",title:"UPDATE PERSONAL INFO",addStyles:{margin:"10px 0 0 0",padding:"10px 20px 10px 20px"}}))):r.a.createElement(ne,null)))})),wt=Object(y.b)((function(e){return{siteInfo:e.site.data}}),{setSiteInfo:he})((function(e){var t=e.setSiteInfo,a=e.siteInfo,c=Object(n.useState)({_id:"",address:"",phone:"",workingHour:"",email:""}),l=Object(K.a)(c,2),i=l[0],s=l[1],o=Object(n.useState)(null),u=Object(K.a)(o,2),d=u[0],p=u[1],E=Object(n.useState)(null),v=Object(K.a)(E,2),f=v[0],b=v[1];Object(n.useEffect)((function(){s(a)}),[a]);var h=function(e){s(Object(m.a)(Object(m.a)({},i),{},Object(Q.a)({},e.target.name,e.target.value))),p(null)},g=function(){var e=Object(j.a)(N.a.mark((function e(a){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,L.a.post("/api/sites/update-site-data",i);case 4:n=e.sent,t(n.data),b("Update successfully"),p(null),setTimeout((function(){b(null)}),3e3),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),p("Update failed");case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:{paddingRight:"10px"}},r.a.createElement("h1",null,"Site Info"),r.a.createElement("form",{onSubmit:g},r.a.createElement("label",{className:"label_inputs",htmlFor:"address"},"Address"),r.a.createElement("input",{type:"text",name:"address",value:i.address,onChange:h,required:!0,placeholder:"Enter site address"}),r.a.createElement("label",{className:"label_inputs",htmlFor:"phone"},"Phone"),r.a.createElement("input",{type:"text",name:"phone",value:i.phone,onChange:h,required:!0,placeholder:"Enter site phone"}),r.a.createElement("label",{className:"label_inputs",htmlFor:"workingHour"},"Working Hour"),r.a.createElement("input",{type:"text",name:"workingHour",value:i.workingHour,onChange:h,required:!0,placeholder:"Enter site working hour"}),r.a.createElement("label",{className:"label_inputs",htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",name:"email",value:i.email,onChange:h,required:!0,placeholder:"Enter site email"}),d&&r.a.createElement("div",{className:"error_label"},d),f&&r.a.createElement("div",{className:"form_success"},f),r.a.createElement(C,{type:"submit",title:"UPDATE SITE INFO",addStyles:{margin:"10px 0 0 0",padding:"10px 20px 10px 20px"}})))})),St=function(){return r.a.createElement("div",null,r.a.createElement(_e,null,r.a.createElement(wt,null)))};var Tt=function(){var e=localStorage.token;if(e){te(e);var t=ee()(e),a=Date.now()/1e3;t.exp<a?(localStorage.removeItem("token"),te(!1),O.dispatch({type:"LOGIN",payload:null}),O.dispatch({type:"SET_USER_DETAILS",payload:null})):O.dispatch({type:"LOGIN",payload:t.user})}return r.a.createElement(y.a,{store:O},r.a.createElement(i.a,null,r.a.createElement(oe,null),r.a.createElement("div",{className:"App"},r.a.createElement(s.d,null,r.a.createElement(ie,{restricted:!0,exact:!0,path:"/login",component:ce}),r.a.createElement(ie,{restricted:!0,exact:!0,path:"/register",component:re}),r.a.createElement(se,{needAdminRole:!1,exact:!0,path:"/product_detail/:id",component:ft}),r.a.createElement(se,{needAdminRole:!1,exact:!0,path:"/",component:J}),r.a.createElement(se,{needAdminRole:!1,exact:!0,path:"/shop",component:Qe}),r.a.createElement(se,{needAdminRole:!1,exact:!0,path:"/user/dashboard",component:ke}),r.a.createElement(se,{needAdminRole:!1,exact:!0,path:"/user/user_profile",component:kt}),r.a.createElement(se,{needAdminRole:!1,exact:!0,path:"/user/cart",component:xt}),r.a.createElement(se,{needAdminRole:!0,exact:!0,path:"/admin/add_product",component:at}),r.a.createElement(se,{needAdminRole:!0,exact:!0,path:"/admin/manage_categories",component:ct}),r.a.createElement(se,{needAdminRole:!0,exact:!0,path:"/admin/site_info",component:St}),r.a.createElement(s.a,{to:"/"})))),r.a.createElement(ge,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(Tt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},34:function(e,t,a){e.exports=a.p+"static/media/image_not_availble.f0e230d7.png"},80:function(e,t,a){e.exports=a.p+"static/media/featured_home.f175cd09.jpg"},81:function(e,t,a){e.exports=a.p+"static/media/featured_home_2.e11708c4.jpg"},82:function(e,t,a){e.exports=a.p+"static/media/featured_home_3.b0762faa.jpg"}},[[112,1,2]]]);
//# sourceMappingURL=main.8f7983c5.chunk.js.map